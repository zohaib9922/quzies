!function(e){formintorjs.define(["admin/popup/templates","admin/popup/login","admin/popup/quizzes","admin/popup/schedule","admin/popup/new-form","admin/popup/polls","admin/popup/ajax","admin/popup/delete","admin/popup/preview","admin/popup/reset-plugin-settings","admin/popup/disconnect-stripe","admin/popup/disconnect-paypal","admin/popup/approve-user","admin/popup/delete-unconfirmed-user","admin/popup/create-appearance-preset","admin/popup/apply-appearance-preset","admin/popup/confirm","admin/popup/addons-actions"],function(o,p,n,t,a,i,r,s,d,l,u,m,c,f,h,v,w,b){var x=Backbone.View.extend({el:"main.sui-wrap",events:{"click .wpmudev-open-modal":"open_modal","click .wpmudev-button-open-modal":"open_modal"},initialize:function(){var e=Forminator.Utils.get_url_param("new"),o=Forminator.Utils.get_url_param("title");if(e){var p=new a({title:o});p.render(),this.open_popup(p,Forminator.l10n.popup.congratulations)}return this.open_export(),this.open_delete(),this.maybeShowNotice(),this.render()},render:function(){return this},maybeShowNotice:function(){var o=Forminator.l10n.notices;o&&e.each(o,function(e,o){var p=4e3;"custom_notice"===e&&(p=void 0),Forminator.Notification.open("success",o,p)})},open_delete:function(){var e=Forminator.Utils.get_url_param("delete"),o=Forminator.Utils.get_url_param("module_id"),p=Forminator.Utils.get_url_param("nonce"),n=Forminator.Utils.get_url_param("module_type"),t=Forminator.l10n.popup.delete_form,a=Forminator.l10n.popup.are_you_sure_form,i=this;"poll"===n&&(t=Forminator.l10n.popup.delete_poll,a=Forminator.l10n.popup.are_you_sure_poll),"quiz"===n&&(t=Forminator.l10n.popup.delete_quiz,a=Forminator.l10n.popup.are_you_sure_quiz),e&&setTimeout(function(){i.open_delete_popup("",o,p,t,a)},100)},open_export:function(){var e=Forminator.Utils.get_url_param("export"),o=Forminator.Utils.get_url_param("module_id"),p=Forminator.Utils.get_url_param("exportnonce"),n=Forminator.Utils.get_url_param("module_type"),t=this;e&&setTimeout(function(){t.open_export_module_modal(n,p,o,Forminator.l10n.popup.export_form,!1,!0,"wpmudev-ajax-popup")},100)},open_modal:function(o){o.preventDefault();var p=e(o.target);e(o.target).closest(".wpmudev-split--item");p.hasClass("wpmudev-open-modal")||p.hasClass("wpmudev-button-open-modal")||(p=p.closest(".wpmudev-open-modal,.wpmudev-button-open-modal"));var n=p.data("modal"),t=p.data("nonce"),a=p.data("form-id"),i=p.data("action"),r=p.data("has-leads"),s=p.data("leads-id"),d=p.data("modal-title"),l=p.data("modal-content"),u=p.data("button-text"),m=p.data("nonce-preview");switch(n){case"custom_forms":this.open_cform_popup();break;case"login_registration_forms":this.open_login_popup();break;case"polls":this.open_polls_popup();break;case"quizzes":this.open_quizzes_popup();break;case"exports":this.open_settings_modal(n,t,a,Forminator.l10n.popup.your_exports);break;case"exports-schedule":this.open_exports_schedule_popup();break;case"delete-module":this.open_delete_popup("",a,t,d,l,i,u);break;case"delete-poll-submission":this.open_delete_popup("poll",a,t,d,l);break;case"paypal":this.open_settings_modal(n,t,a,Forminator.l10n.popup.paypal_settings);break;case"preview_cforms":_.isUndefined(d)&&(d=Forminator.l10n.popup.preview_cforms),this.open_preview_popup(a,d,"forminator_load_form","forminator_forms",m);break;case"preview_polls":_.isUndefined(d)&&(d=Forminator.l10n.popup.preview_polls),this.open_preview_popup(a,d,"forminator_load_poll","forminator_polls",m);break;case"preview_quizzes":_.isUndefined(d)&&(d=Forminator.l10n.popup.preview_quizzes),this.open_quiz_preview_popup(a,d,"forminator_load_quiz","forminator_quizzes",r,s,m);break;case"captcha":this.open_settings_modal(n,t,a,Forminator.l10n.popup.captcha_settings,!1,!0,"wpmudev-ajax-popup");break;case"currency":this.open_settings_modal(n,t,a,Forminator.l10n.popup.currency_settings,!1,!0,"wpmudev-ajax-popup");break;case"pagination_entries":this.open_settings_modal(n,t,a,Forminator.l10n.popup.pagination_entries,!1,!0,"wpmudev-ajax-popup");break;case"pagination_listings":this.open_settings_modal(n,t,a,Forminator.l10n.popup.pagination_listings,!1,!0,"wpmudev-ajax-popup");break;case"email_settings":this.open_settings_modal(n,t,a,Forminator.l10n.popup.email_settings,!1,!0,"wpmudev-ajax-popup");break;case"uninstall_settings":this.open_settings_modal(n,t,a,Forminator.l10n.popup.uninstall_settings,!1,!0,"wpmudev-ajax-popup");break;case"privacy_settings":this.open_settings_modal(n,t,a,Forminator.l10n.popup.privacy_settings,!1,!0,"wpmudev-ajax-popup");break;case"create_preset":this.create_appearance_preset_modal(t,d,l,p);break;case"apply_preset":this.apply_appearance_preset_modal(p);break;case"delete_preset":this.delete_preset_modal(d,l);break;case"export_form":this.open_export_module_modal("form",t,a,Forminator.l10n.popup.export_form,!1,!0,"wpmudev-ajax-popup");break;case"export_poll":this.open_export_module_modal("poll",t,a,Forminator.l10n.popup.export_poll,!1,!0,"wpmudev-ajax-popup");break;case"export_quiz":this.open_export_module_modal("quiz",t,a,Forminator.l10n.popup.export_quiz,!1,!0,"wpmudev-ajax-popup");break;case"import_form":this.open_import_module_modal("form",t,a,Forminator.l10n.popup.import_form,!1,!0,"wpmudev-ajax-popup");break;case"import_form_cf7":this.open_import_module_modal("form_cf7",t,a,Forminator.l10n.popup.import_form_cf7,!1,!0,"wpmudev-ajax-popup");break;case"import_form_ninja":this.open_import_module_modal("form_ninja",t,a,Forminator.l10n.popup.import_form_ninja,!1,!0,"wpmudev-ajax-popup");break;case"import_form_gravity":this.open_import_module_modal("form_gravity",t,a,Forminator.l10n.popup.import_form_gravity,!1,!0,"wpmudev-ajax-popup");break;case"import_poll":this.open_import_module_modal("poll",t,a,Forminator.l10n.popup.import_poll,!1,!0,"wpmudev-ajax-popup");break;case"import_quiz":this.open_import_module_modal("quiz",t,a,Forminator.l10n.popup.import_quiz,!1,!0,"wpmudev-ajax-popup");break;case"reset-plugin-settings":this.open_reset_plugin_settings_popup(t,d,l);break;case"disconnect-stripe":this.open_disconnect_stripe_popup(t,d,l);break;case"disconnect-paypal":this.open_disconnect_paypal_popup(t,d,l);break;case"approve-user-module":var c=p.data("activation-key");this.open_approve_user_popup(t,d,l,c);break;case"delete-unconfirmed-user-module":this.open_unconfirmed_user_popup(p.data("form-id"),t,d,l,p.data("activation-key"),p.data("entry-id"));break;case"addons_page_details":this.open_addons_page_modal(n,t,a,d,!1,!0,"wpmudev-ajax-popup");break;case"addons-deactivate":this.open_addons_actions_popup(n,p.data("addon"),t,d,l,p.data("addon-slug"))}},open_popup:function(o,p,n,t,a,i,r,s,d){_.isUndefined(p)&&(p=Forminator.l10n.custom_form.popup_label);var l={title:p};_.isUndefined(n)||(l.has_custom_box=n),_.isUndefined(t)||(l.action_text=t),_.isUndefined(a)||(l.action_css_class=a),_.isUndefined(i)||(l.action_callback=i),Forminator.Popup.open(function(){_.isUndefined(o.el)?e(this).append(o):e(this).append(o.el),"function"==typeof r&&r.apply(this)},l,s,d)},open_ajax_popup:function(o,p,n,t,a,i,s,d,l){_.isUndefined(t)&&(t=Forminator.l10n.custom_form.popup_label),_.isUndefined(a)&&(a=!0),_.isUndefined(i)&&(i=!1),_.isUndefined(s)&&(s="sui-box-body");var u=new r({action:o,nonce:p,id:n,enable_loader:!0,className:s}),m={title:t,has_custom_box:i};Forminator.Popup.open(function(){e(this).append(u.el)},m,d,l)},open_delete_popup:function(o,p,n,t,a,i,r){i=i||"delete";var d=new s({module:o,id:p,action:i,nonce:n,referrer:window.location.pathname+window.location.search,button:r,content:a});d.render();var l=d,u={title:t,has_custom_box:!0};Forminator.Popup.open(function(){_.isUndefined(l.el)?e(this).append(l):e(this).append(l.el)},u,"sm","center")},open_cform_popup:function(){var p=new o({type:"form"});p.render();var n=p,t={title:"",has_custom_box:!0};Forminator.Popup.open(function(){_.isUndefined(n.el)?e(this).append(n):e(this).append(n.el)},t,"lg")},open_polls_popup:function(){var o=new i;o.render();var p=o,n={title:"",has_custom_box:!0};Forminator.Popup.open(function(){_.isUndefined(p.el)?e(this).append(p):e(this).append(p.el)},n,"sm")},open_quizzes_popup:function(){var o=new n;o.render();var p=o,t={title:Forminator.l10n.quiz.choose_quiz_title,has_custom_box:!0};Forminator.Popup.open(function(){_.isUndefined(p.el)?e(this).append(p):e(this).append(p.el)},t,"lg")},open_import_module_modal:function(e,o,p,n,t,a,i){var r="";switch(e){case"form":case"form_cf7":case"form_ninja":case"form_gravity":case"poll":case"quiz":r="import_"+e}this.open_ajax_popup(r,o,p,n,t,a,i,"sm","center")},open_exports_schedule_popup:function(){var e=new t;e.render(),this.open_popup(e,Forminator.l10n.popup.edit_scheduled_export,!0,void 0,void 0,void 0,void 0,"md","inline")},open_reset_plugin_settings_popup:function(o,p,n){var t=new l({nonce:o,referrer:window.location.pathname+window.location.search,content:n});t.render();var a=t,i={title:p,has_custom_box:!0};Forminator.Popup.open(function(){_.isUndefined(a.el)?e(this).append(a):e(this).append(a.el)},i,"sm","center")},open_addons_actions_popup:function(o,p,n,t,a,i){var r=new b({module:o,id:p,nonce:n,referrer:window.location.pathname+window.location.search,content:a,forms:"stripe"===i?forminatorData.stripeForms:forminatorData.paypalForms});r.render();var s=r,d={title:t,has_custom_box:!0};Forminator.Popup.open(function(){_.isUndefined(s.el)?e(this).append(s):e(this).append(s.el)},d,"sm","center")},open_login_popup:function(){var e=new p;e.render(),this.open_popup(e,Forminator.l10n.popup.edit_login_form,void 0,void 0,void 0,void 0,void 0,"md","inline")},open_settings_modal:function(e,o,p,n,t,a,i){this.open_ajax_popup(e,o,p,n,t,a,i,"md","inline")},open_addons_page_modal:function(e,o,p,n,t,a,i){this.open_ajax_popup(e,o,p,n,t,a,i,"md","inline")},open_export_module_modal:function(e,o,p,n,t,a,i){var r="";switch(e){case"form":case"poll":case"quiz":r="export_"+e}this.open_ajax_popup(r,o,p,n,t,a,i,"md","inline")},open_preview_popup:function(o,p,n,t,a){_.isUndefined(p)&&(p=Forminator.l10n.custom_form.popup_label);var i=new d({action:n,type:t,nonce:a,id:o,enable_loader:!0,className:"sui-box-body"}),r={title:p,has_custom_box:!0};Forminator.Popup.open(function(){e(this).append(i.el)},r,"lg","inline")},open_quiz_preview_popup:function(o,p,n,t,a,i,r){_.isUndefined(p)&&(p=Forminator.l10n.custom_form.popup_label);var s=new d({action:n,type:t,id:o,enable_loader:!0,className:"sui-box-body",has_lead:a,leads_id:i,nonce:r}),l={title:p,has_custom_box:!0};Forminator.Popup.open(function(){e(this).append(s.el)},l,"lg","inline")},apply_appearance_preset_modal:function(o){var p=new v({$target:o});p.render();var n=p;Forminator.Popup.open(function(){e(this).append(n.el)},{title:Forminator.Data.modules.ApplyPreset.title,has_custom_box:!0},"sm","center")},delete_preset_modal:function(o,p){var n=new w({confirmation_message:p,confirm_callback:function(){var e=new Event("deletePreset");window.dispatchEvent(e)}});n.render();var t=n;Forminator.Popup.open(function(){e(this).append(t.el)},{title:o,has_custom_box:!0},"sm","center")},create_appearance_preset_modal:function(o,p,n,t){var a=new h({nonce:o,$target:t,title:p,content:n});a.render();var i=a;Forminator.Popup.open(function(){e(this).append(i.el)},{title:p,has_custom_box:!0},"sm","center")},open_disconnect_stripe_popup:function(o,p,n){var t=new u({nonce:o,referrer:window.location.pathname+window.location.search,content:n});t.render();var a=t,i={title:p,has_custom_box:!0};Forminator.Popup.open(function(){_.isUndefined(a.el)?e(this).append(a):e(this).append(a.el)},i,"sm","center")},open_disconnect_paypal_popup:function(o,p,n){var t=new m({nonce:o,referrer:window.location.pathname+window.location.search,content:n});t.render();var a=t,i={title:p,has_custom_box:!0};Forminator.Popup.open(function(){_.isUndefined(a.el)?e(this).append(a):e(this).append(a.el)},i,"sm","center")},open_approve_user_popup:function(o,p,n,t){var a=new c({nonce:o,referrer:window.location.pathname+window.location.search,content:n,activationKey:t});a.render();var i=a;Forminator.Popup.open(function(){_.isUndefined(i.el)?e(this).append(i):e(this).append(i.el)},{title:p,has_custom_box:!0},"md","inline")},open_unconfirmed_user_popup:function(o,p,n,t,a,i){var r=new f({formId:o,nonce:p,referrer:window.location.pathname+window.location.search,content:t,activationKey:a,entryId:i});r.render();var s=r;Forminator.Popup.open(function(){_.isUndefined(s.el)?e(this).append(s):e(this).append(s.el)},{title:n,has_custom_box:!0},"md","inline")}});jQuery(document).ready(function(){new x})})}(jQuery);